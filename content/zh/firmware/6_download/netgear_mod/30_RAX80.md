---
title: "RAX80 梅林改版固件[386]"
linkTitle: "RAX80 "
type: docs
weight: 30
toc_hide: false
hide_summary: false
date: 2021-10-1
author: "sadog"
tags: ["梅林改版固件"]
categories: ["固件下载"]
description: >
  最新版本：386.3_2，更新日期：2021年08月07日
---

<font color="#FF0066" style="font-size:1.5rem;line-height:1.8;font-weight:bold">广告：固件/软件中心维护不易，如果您支持我们的工作，可以考虑购买软件中心的[ddnsto](https://www.ddnsto.com/)和wifi boost，以支持开发者，谢谢！</font>

### <font color="#f57332">〇、前言</font>

在固件发布贴里，我最喜欢的部分就是这个前言部分了。在这里，我可以跟大家聊很多做固件的心路历程，可以让大家更加了解我们做开发的一些想法与思考。甚至我希望每个来下载固件的人，除了刷机方法等，都能来看看这里。废话不多说了，下面还是跟大家聊一聊RAX80梅林固件把。

说实话，对于网件RAX80这款机器，开始我个人认为并没有那么有价值去更新386固件，一是要做386固件，不仅要把之前的移植工作再做一遍，还要在之前的基础上改进，还要针对网件最新的分区格式去做兼容，总之是工作繁多；二是网件RAX80已经是一款停产的产品了，其对标的华硕RT-AX88U还在生产售卖，而网件就已经停产RAX80，现在基本都是在卖官翻机，等官翻机卖完以后，这款网件路由器就不会有新的用户了。

但是最终我们（八万，sadog，小宝）还是做了这次RAX80梅林386固件，主要有两个原因：

**原因1：** 给网件RAX80更新梅林386固件，算是对RAX80梅林改版固件的用户有个好的交代。因为我了解到，之前有不少的用户，之前就是冲着RAX80梅林改版固件而买的这款机器，如果我们在384就停更的话，这多少是对相信我们的用户的一种背叛。

**原因2：** 我们意识到之前做的RAX80梅林384固件并不完美。2020年3月19日，kooldev开发组全球首发了[网件RAX80的梅林384改版固件](https://koolshare.cn/thread-177255-1-1.html)，虽然当时经过好几个月的调试与调教，但是还是有一部分没有考虑周全，这导致了两个问题。

1. RAX80远程固件刷384梅林改版固件后，会导致几个网件原厂分区被破坏。这种破坏并不会对梅林固件造成任何影响，但是却会导致RAX80刷回网件原厂固件后，MAC地址、SN序列号、出厂SSID、出厂wifi密码这四个东西永久从路由器里丢失！这个问题的存在已经让我们不能对其忽视，因为这导致了不少用户的RAX80没法进行售后服务！
2. 网件在最新的RAX80官方固件（大于等于V1.0.3.106_1.0.50）里调整了分区结构，如果是新分区结构的官方固件刷384梅林固件，虽然能成功，但是每次重启会导致jffs分区等被重新格式化。也就是说软件中心每次重启后都会被重置，安装的插件会丢失！虽然这个问题主要是网件导致的，但是我们也不能对其无视，因为如果继续这样，很多新的RAX80固件用户刷 梅林384固件的话，将无法正常使用固件！

所以这次RAX80梅林的更新，主要有以下任务
1. 重新完成RAX80梅林386固件的移植
2. 新的386固件，要同时适应网件新老分区结构
3. 修复已经损坏的网件原厂分区，且以后刷386固件将不会再破坏原厂分区
4. 给出不需要使用任何命令的情况下，更加方便的刷回原厂固件的方法

结果这次前后花了一个多月的时间，前后刷机上百次，路由器刷砖几十次，其中一次还是彻底砖头，上了FLASH编程器才修好（这里要感谢@cmwl，免费帮我修好！）还召集了@qqzwqq、@一颗赛艇、@321211、@45142918、@977032562、@farwish、@ytysh、@yuki0328 八位朋友（排名部分先后）帮忙内测，而且基本上每个内测的朋友都至少砖头了好几次！最终才实现了以上的所有任务！在此对内测的朋友表示感谢！

最终这次RAX80固件梅林386固件，顺利的完成了以上任务
1. 完成了RAX80梅林386固件的移植，并且修复了384中的几个bug，比如部分分区无法挂载等问题
2. 同时适应了网件新老分区结构，新老分区结构刷梅林386固件都能正常使用
3. 推出了【RAX80 Toolbox】插件，此插件能完美修复网件原厂分区，让丢失的网件原厂MAC地址、SN序列号、出厂SSID、出厂wifi密码全部恢复。
4. 制作了RAX80的OFW固件，配合【RAX80 Toolbox】的OFW向导，可以直接在web内顺利刷回网件原厂固件！再也不需要像384固件那会，刷回原厂固件需要一堆复杂的命令，而且就算是老手，估计都不一定能一次性顺利刷回网件原厂固件。

并且RAX80的梅林386固件，将会有177MB的jffs分区容量，这对于装大插件的朋友是一个非常好的消息。

### <font color="#f57332">一、刷机须知</font>

注意1：请刷机的朋友认真阅读本帖！！！刷机带来的风险请自行承担！！！

注意2：将网件路由器刷成梅林固件可能会让你的路由器失去售后质保！！！

注意3：欢迎转载本帖，但是请一定尊重开发组的成果，注明本帖来源！！！

### <font color="#f57332">二、固件主要特点</font>

1. 使用梅林固件源代码为基础（[asuswrt-merlin.ng代码](https://github.com/RMerl/asuswrt-merlin.ng)）修改而来；
2. 由于非技术原因，主动屏蔽了AiMesh路由功能，节点功能无法屏蔽，所以AiMesh节点功能是可用的；
3. 梅林固件有的功能，梅林改版固件都有（除AiMesh路由功能），参考此链接：[梅林固件添加的功能](https://github.com/RMerl/asuswrt-merlin.ng/blob/master/README-merlin.txt#L62-L132)；
4. 梅林固件不能使用的功能，梅林改版也不能使用，比如说UU加速器等；
5. 链路聚合功能不可用；
6. 固件后台界面优化：字体优化，首页默认显示状态页面；
7. 增加一些软件中心/插件需要用到的功能，如dnsmasq with ipset、base64、一些内核模块支持等；
8. koolshare软件中心支持：[hnd/axhnd软件中心](https://github.com/koolshare/rogsoft#rogsoft)；

### <font color="#f57332">三、支持机型</font>

- 本固件仅支持网件`RAX80`机型，其它机型请勿使用本固件！

###  <font color="#f57332">四、更新日志</font>

####  <font color="#00BFFF">386.3_2（2021年08月07日）</font>
1. 同步梅林固件代码386.3_2，更新日志见此：[Asuswrt-Merlin 386/NG Changelog](https://www.asuswrt-merlin.net/changelog)；
2. 优化网件机型网口适配；
3. 修复链路聚合功能，RAX80链路聚合请使用lan1 + lan2（[群辉测试结果](https://fw.koolcenter.com/binary/image_bed/rax80/lacp/)）
2. 同步软件中心1.7.5

####  <font color="#00BFFF">386.3_0（2021年07月28日）</font>

>从此版本开始，RAX80梅林改版固件正式进入386大版本，在功能上，该版本主要更新了AiMesh 2.0（由于非技术原因，主动屏蔽了AiMesh路由功能，节点功能无法屏蔽，所以RAX80仅支持AiMesh节点功能）和Ookla® SPEEDTEST，当然也包含很多其它稳定性、安全性方面的更新。强烈建议大家进行升级！
>**注意：**
>
>1. 从384梅林固件刷机到386后，固件所有配置，软件中心和所以插件都将会丢失！请刷机后全部从新手动配置，不要使用以前备份的配置！
>2. 成功刷机到386版本后，建议在软件中心安装【RAX80 Toolbox】插件，检测网件原厂分区是否受损，如果检测到受损，建议进行一次修复！
>3. 刷机到386版本后，强烈建议不再刷回384梅林固件，因为一旦刷回，修复好的网件原厂分区将会再次受损，当然你可以再刷回386固件后，使用【RAX80 Toolbox】插件对原厂分区再次进行修复。

1. 同步梅林固件代码386.3_0；
2. 同步软件中心1.7.4；
3. 修复RAX80 384梅林固件中已知的一些问题。

### <font color="#f57332">五、刷机步骤（请仔细阅读）：</font>

#### <font color="#00BFFF">刷机准备</font>

- 建议下载好固件后，对固件的md5/sha1校验码进行核对，以保证固件完整性；
- 建议刷机全程使用电脑端谷歌Chrome，或者Chromium内核的浏览器进行操作；
- 如果使用了USB2JFFS插件，建议先使用卸载掉USB的挂载后在进行刷机，刷机后再进行挂载。

#### <font color="#00BFFF">刷机术语</font>

> 为消除小白在刷机过程中的疑惑，下面列出一下梅林固件刷机的基本术语及我自己的解释，希望对大家有所帮助。如果你对下面的内容已经比较清楚，那么可以跳过这部分直接进入到刷机流程。

1. **固件双清**：双清就是要清除：1. nvram配置，2：JFFS分区文件。固件的很多设置都是储存在nvram中，例如拨号方式、拨号上网帐号密码、无线网络设置等；固件的很多文件是储存在JFFS分区的，例如流量分析储存的流量数据，SSL证书，UU加速器程序等。一般同类型固件互刷不需要进行双清，不同类型固件互刷视情况要进行双清，以保证路由器刷机后处于最佳工作状态。<font color="#FF00CC">如何双清路由器：</font>进入【系统管理 】–【 恢复/导出/上传设置】，勾选恢复按钮旁的选择框，然后点击恢复按钮。
2. **恢复出厂**：恢复出厂就是清除固件的nvram配置，但是不清除JFFS分区文件。这样流量分析、SSL证书等文件并不会丢失。值得注意的是很多朋友有用【导出设置】来备份固件配置的习惯，而在刷固件，特别是不同类型固件互刷的情况下，是不适用使用备份的配置来恢复刚刚进行了恢复出厂的机器的，因为这样就相当于你什么也没恢复。所以请一定不要使用以前备份的配置来恢复刚刷机后，又进行过恢复出厂的路由器。使用【导出设置】备份的配置文件，一般进行了一些设置导致路由器出了问题，将路由器恢复到原厂默认值后，再用备份配置进行恢复，使用备份配置前后，路由器都是同一个版本。对于网件移植固件，比如RAX80来说，恢复出厂并不会恢复到网件固件，固件还是是梅林改版固件，只是梅林改版固件的用户设置被清理干净了！<font color="#FF00CC">如何恢复出厂：</font>进入【系统管理 】–【 恢复/导出/上传设置】，点击恢复按钮，记住不要勾选恢复按钮右侧的选择框！！
3. **格式化JFFS**：格式化JFFS就是对JFFS分区进行格式化，这样会删除JFFS分区中储存的所有文件，而不影响路由器的其它配置。在梅林改版固件中，因为软件中心就是储存在JFFS分区中的，所以格式化JFFS可以快速的清除当前JFFS分区中的软件中心文件，从而实现软件中心的重置。当然，格式化JFFS，也会删除固件在JFFS分区中存放的一些文件，如SSL证书、流量分析数据等。如果你只想重置软件中心，而不伤害其它JFFS分区中的文件，你可以参考下文【重要命令】中的【软件中心重置】或【删除软件中心】。<font color="#FF00CC">如何格式化JFFS：</font>在梅林原版/梅林改版固件中，在【系统管理】–【 系统设置】内勾选`Format JFFS partition at next boot`（中文意思就是：下次重启的时候格式化JFFS分区），然后点击`应用本页面设置`，成功后点击顶部`重启`按钮重启路由器。路由器重启过程中就会对JFFS分区进行格式化，重启完成后，`Format JFFS partition at next boot`将自动变为否，以免下次路由器重启的时候，JFFS分区再次被格式化。
4. **JFFS挂载状态**：通过SSH连接到路由器后台后输入命令（如果不知道如何使用SSH执行命令，可以参考下文【重要命令】中的【如何使用SSH】）：`mount | grep -w /jffs`，如果看到类似`/dev/mtdblock9 on /jffs type jffs2 (rw,noatime)`这样的输出，说明/jffs成功挂载了，挂载设备为`/dev/mtdblock9`。当然，在梅林原版/梅林改版固件中，只需要进入【Tools - Sysinfo】页面，在JFFS一栏即可看到JFFS挂载状态，如果成功挂载，将会显示JFFS已用容量和总容量，如果没有挂在，则会显示*umounted*字样。因为软件中心是储存在JFFS中的，所以如果软件中心进入后是空白页面，一般来说JFFS分区的挂载就出现了问题。遇到这种情况，可以参考下文FAQ中的【Q5：刷机后软件中心一片空白】来尝试解决。
5. **JFFS分区备份/还原**：使用梅林原版/梅林改版固件的朋友，可能知道梅林固件相对于华硕官方固件，多了JFFS分区备份/还原功能，其本质就是将JFFS分区内的所有文件进行打包，然后在需要的时候进行还原。此功能在某些时候会特别管用，比如某个版本固件升级后，JFFS分区容量被缩小了，这会导致储存在JFFS分区靠后的文件块被强行清除，从而导致JFFS分区内文件丢失、文件损坏。而使用JFFS分区备份/还原功能，在每次固件升级前先备份一次JFFS分区内容，在固件升级后，如果JFFS分区内容出现丢失、损坏等，再用备份进行还原即可规避上面的问题。当然如果是梅林改版固件的话，只进行还原还是不够的，因为刚还原后，软件中心相关程序虽然还原了，但是其进程还没有启动，此时重启一次路由器，才能让软件中心在还原后正常工作。

#### <font color="#00BFFF">免责说明</font>

**重要免责说明（by 八萬）**

axhnd平台固件包含cfe，切记不要手贱拿其他品牌/机型的固件强刷！（比如网件路由器刷非koolshare论坛发布的移植梅林）cfe一旦损毁，除非你有编程器+编程器固件，否则只能RMA！

实测通过ssh备份的MTD编程器固件烧录无法开机！正常路由器NAND，上编程器读取出来的固件可以用于烧录！

最后再次提醒各位玩家，除非你有编程器，并且拥有编程器提取的固件，否则千万不要手贱！千万不要手贱！千万不要手贱！

#### <font color="#00BFFF">刷机须知</font>

- 请仔细阅读本部分的刷机步骤！建议刷机前对下载的固件的md5进行校验，以确保固件文件的完整性。
- `.chk`后缀固件用于网件刷梅林，称为`过度固件`，`.w`后缀固件用于梅林刷梅林。
- 建议刷机全程使用电脑端谷歌chrome或者Chromium 内核的浏览器进行操作。

#### <font color="###00BFFF">A. koolshare 梅林384 → koolshare 梅林386 </font>
> **准备：**
> 1. 建议使用网线将路由器和电脑进行连接。
> 2. 此处使用`.w`后缀的梅林 386固件，如：`RAX80_386.3_0_ubi_koolshare.w`
>
> **刷机：**
>
> 1. 在梅林384固件的【系统管理 】- 【 固件升级】页面下直接上传`.w` 后缀的`koolshare 梅林386`固件进行刷机；
> 2. 由于是大版本升级，刷机到梅林386后，固件所有配置，软件中心和所以插件都将会丢失！请刷机后全部重新手动配置，不要使用以前备份的配置！

#### <font color="###00BFFF">B. koolshare 梅林 386 → koolshare 梅林 386 </font>
> **准备：**
> 1. 建议使用网线将路由器和电脑进行连接。
> 2. 此处使用`.w`后缀的梅林 386固件，如：`RAX80_386.3_0_ubi_koolshare.w`
> 
> **刷机：**
> 1. 在梅林386固件的【系统管理 】- 【 固件升级】页面下直接上传`.w` 后缀的`koolshare 梅林386`固件进行刷机；
> 2. 刷机后所有固件配置，软件中心及插件都会被保留，不会受到影响，如无特殊说明，也不需要恢复出产设置。

#### <font color="###00BFFF">C. koolshare 梅林386 → koolshare 梅林384 </font>
> **提示**
> - 我们非常不建议你将RAX80从梅林386刷回梅林384，因为这将破坏网件原厂分区，并导致原厂MAC地址、SN序列号、出厂SSID、出厂wifi密码全部丢失！
> - 当然，如果你已经刷了梅林384固件，破坏了网件原厂分区，你仍然可以通过刷回梅林386固件，并使用【RAX80 Toolbox】插件进行原厂分区修复。 
> 
> **准备**
> 1. 建议使用网线将路由器和电脑进行连接。
> 2. 此处使用`.w`后缀的梅林384固件，如：`RAX80_384.19_0_ubi_8w.w`
> 
> **刷机**
> 1. 在梅林386固件的【系统管理 】- 【 固件升级】页面下直接上传`.w` 后缀的`koolshare 梅林384`固件进行刷机；
> 2. 由于是大版本降级，刷机到梅林384后，固件所有配置，软件中心和所以插件都将会丢失！请刷机后全部重新手动配置，不要使用以前备份的配置！

#### <font color="###00BFFF">D. 网件原厂固件 → koolshare 梅林386</font>
> **准备：**
> 1. 建议使用网线将路由器和电脑进行连接，且将网卡设定为自动获取IP地址。
> 2. 此处使用`.chk`后缀固件，如：`RAX80_386.3_0_ubi_koolshare.chk`，请不要搞错了。
> 
> **刷机：**
> 1. <font color="#f57332">**获取固件**</font>：前往[RAX80梅林固件贴（本贴）](https://koolshare.cn/thread-201178-1-1.html)获取固件，网件刷梅林的固件是.chk后缀的文件。使用校验软件，如[Hash](http://keir.net/download/hash.zip)，对下载的固件进行校验，确保固件md5校验值和固件发布贴公布的md5相同。
> 2. <font color="#f57332">**上传固件**</font>：使用PC登录网件固件后台管理界面，依次进入【高级】 - 【管理】 - 【路由器升级】页面，在此页面上传.chk后缀固件，如`RAX80_386.3_0_ubi_koolshare.chk`，固件上传并后，会提示`更新版本：V1.0.1.40_1.0.22`，点击是开始正式刷机，等待刷机完成自动重启。
> 3. <font color="#f57332">**登录梅林**</font>：路由器自动重启后，网卡会自动获得192.168.50.x的ip地址，如果没有获得正确地址，请配置网卡为静态IP：192.168.50.10，掩码：255.255.255.0，网关192.168.50.1。然后访问：[http://192.168.50.1](http://192.168.50.1)，会跳转到设置向导页面，然后根据设置向导完成路由器初始化。
> 4. <font color="#f57332">**梅林初现**</font>：设定登录用户名和密码后，即会进入梅林固件首页，顶部能看到*Powered by Asuswrt-RMerl & Koolshare*的标志和八萬的麻将logo，表明RAX80已经成功刷入了koolshare 梅林固件，首次刷入梅林386固件后，默认是恢复出厂设置的状态，所以此处不需要再次进行恢复出厂。
> 5. <font color="#f57332">**格式化jffs**</font>：恢复出厂完成后，再次访问：[http://192.168.50.1](http://192.168.50.1)登录路由器后台，进入路由器管理主页后，在【系统管理 】 - 【 系统设置】内，将`Format JFFS partition at next boot` 和 `Enable JFFS custom scripts and configs`勾选为是， 然后点击页面下方【应用本页面设置】按钮，点击页面顶部【重新启动】按钮，重启路由器。注意：此步骤完成后，重新进入此页面，会发现`Format JFFS partition at next boot`变成了否，因为这个选项是用于在下次重启的时候格式化jffs分区，所以如果没有格式化jffs分区的需要，请不要再次勾选此选项。
> 6. <font color="#f57332">**固件设置**</font>：对固件进行一些自定义设置，如更改无线密码、拨号方式等。其它设置主要集中在【系统管理 】 - 【 系统设置】页面，此处可以设置SSH，路由器远程访问方式等。
> 7. <font color="#f57332">**软件中心**</font>首先确保路由器已经连接上网络，然后通过侧边栏底部【软件中心】标签栏进入koolshare软件中心，如果软件中心有新版本的话，将软件中心更新到最新版本，如果软件中心是最新版本，则当前版本和在线版本会显示相同的版本号。接下来就可以在线安装插件，或者使用离线安装功能安装第三方插件了。
> 8. 完成，enjoy！

#### <font color="###00BFFF">E. koolshare 梅林386 → 网件原厂固件 </font>
> **准备：**
> 1. 建议使用网线将路由器和电脑进行连接。
> 2. 如果你是梅林 384固件，需要先刷为梅林386固件，然后参考以下步骤。
> 
> **刷机：**
> 1. 在梅林386固件软件中心，安装【RAX80 Toolbox】插件，如果无法在线安装，通过[此连接](https://rogsoft.ddnsto.com/ngfix/ngfix.tar.gz)下载离线包进行安装；
> 2. 进入【RAX80 Toolbox】插件，点击`开始检测`按钮，检测网件原厂分区是否完好；
> 3. 如果网件原厂分区受损，插件会指导你进行修复操作，修复完成后再次点击`开始检测`按钮；
> 4. 此时将会出现`RAX80 OFW 向导`按钮，点击此按钮，根据弹出页面的向导进行操作，即可刷回网件原厂固件；
> 5. 刷回的网件原厂固件版本是：`V1.0.0.30_1.0.17`，且默认是出厂状态，需要对固件进行初始化设置，你可以在初始化设置过程中将其更新到最新的网件官方固件。
> 
> **提示：**
> 1. 请一定按照【RAX80 Toolbox】的知道进行刷回原厂操作！不按其操作可能会引起路由器变砖等问题！
> 2. OFW固件是特制的，仅仅用于从梅林固件刷到网件原厂固件，刷OFW固件前一定要点`flase_erase`按钮！不然刷机后路由器可能会变砖！
> 3. 如果RAX80路由器变砖，请使用网件救砖工具nmrp配合tftp进行救砖，我专门单独花了不少时间制作了《[网件RAX80救砖文字教程.html](https://fw.koolcenter.com/binary/nmrp/%E7%BD%91%E4%BB%B6RAX80%E6%95%91%E7%A0%96%E6%96%87%E5%AD%97%E6%95%99%E7%A8%8B.html)》和《[网件RAX80救砖图片教程.jpg](https://fw.koolcenter.com/binary/nmrp/%E7%BD%91%E4%BB%B6RAX80%E6%95%91%E7%A0%96%E5%9B%BE%E7%89%87%E6%95%99%E7%A8%8B.jpg)》，以提供给不小心刷砖的朋友救砖。

### <font color="#f57332">六、注意事项</font>
1. 刷机后如果界面显示不正常，请使用组合键`ctrl + F5`强制清空浏览器缓存后重试；
2. 强烈建议使用chrome浏览器或者chromium内核的浏览器，以保持最佳兼容性；
3. 请勿使用不同版本固件备份的路由器设置来恢复当前路由器。

### <font color="#f57332">七、FAQ</font>
- 此处列出一些经常被问到的问题（FAQ）的回答，持续更新中~
- FAQ更新日期：2020年03月09日

**Q1：我的路由器刷回网件原厂后MAC地址是空的/SN序列号丢失。**

**A1：** 这主要是由于你之前刷过384梅林固件导致的，梅林384固件因为制作得不完美，导致破坏了几个网件原厂分区，所以刷回网件原厂固件后，其MAC地址是空的，或者显示一串FF字符：同时丢失的还有无线WIFI名称，WIFI密码，SN序列号信息，这些正好是路由器背后标签页上印刷的信息。如果这些信息丢失，甚至会影响到路由器的售后服务。当然，你可以通过刷386梅林固件后，在软件中心安装【RAX80 Toolbox】插件，使用该插件对以上丢失的信息，以及其它网件原厂分区进行完美修复！修复后再次来回刷网件官方固件和梅林386固件，这些信息都不会再丢失了！

**Q2：RAX80刷梅林386固件后会影响质保吗？**

**A2：** 不会，你随时可以使用【RAX80 Toolbox】，将RAX80再次刷为网件原厂固件。

**Q3：我离线安装第三方xxx插件失败怎么办？**

**A3：** 目前各个平台的软件中心也没有提供严格的插件开发规范，加上论坛的插件区管理比较混乱，没有进行良好的插件审核，所以经常有一些第三方插件无法兼容所有软件中心平台，但是却能在这些平台上进行安装。

1. 本贴的RAX80属于axhnd平台机型，对于hnd/axhnd/axhnd.675平台机型，使用的是rogsoft软件中心，这些机型的插件是可以通用的，具体请见：[rogsoft机型支持](https://github.com/koolshare/rogsoft#机型支持)；
2. 目前koolshare开发组推出的几个版本的软件中心：[arm380软件中心](https://github.com/koolshare/koolshare.github.io)，[arm384软件中心](https://github.com/koolshare/armsoft)，[hnd软件中心](https://github.com/koolshare/rogsoft)，[qca软件中心](https://github.com/koolshare/qca)，[LEDE-酷软](https://github.com/koolshare/ledesoft)，他们的插件都是互不兼容的！具体可以参考：[koolshare几个版本的软件中心区别](https://github.com/koolshare/rogsoft#koolshare几个版本的软件中心区别)；
3. 对于第三方作者开发的插件，除非作者明确表示其支持hnd/axhnd/axhnd.675平台，不然请不要随意安装！不然因为可能没有遵循开发规范，安装后无法使用，甚至给路由器带来问题！
4. 为了论坛和固件未来更好的发展，koolshare软件中心也会针对一些特殊的插件在离线安装上有所限制。

**Q4：软件中心一直显示更新中怎么办？**

**A4：** 此问题可能由多种原因导致，请尝试下面的方法：

1. 访问https://rogsoft.ddnsto.com/，请确保你访问此网站的时候使用的是连接到该路由器下的客户端，如果显示`Hello to everyone`字样，表示你的路由下的本地网络访问软件中心服务器没有问题；如果不显示上述字样，则可能是是网络方面的问题。
2. 情况1，路由器本地网络故障：开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器，输入命令：`ping rogsoft.ddnsto.com`，看是否能ping通服务器，如果无法解析ip地址，可以尝试更换路由器dns设定后再试；如果能解析ip地址当时无法ping通，可能是本地网络问题或者软件中心服务器正在维护。
3. 情况2，路由器本地网络故障：开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器，输入命令：`curl -sS4L https://rogsoft.ddnsto.com/|grep Hello`，如果显示了两行内容都包含`Hello to everyone`字样，表明路由器访问软件中心web服务器没有问题；如果没有以上显示，可能是本地网络问题或者软件中心服务器正在维护。
4. 情况3，服务器网络故障：这有可能是koolshare软件中心服务器维护，建议可以加本论坛相关讨论群组，可以第一时间获得相关信息。
5. 如果排除了以上网络故障，那么可能是程序运行方面的问题。可以进行以下操作：开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器后，输入命令：`ps|grep -w httpdb|grep -v grep`，如果有输出内容表明软件中心web服务运行正常，如果输出内容为空表明软件中心web服务运行异常，请参考下文：重要命令里的==重启软件中心==以解决httpdb没有运行的问题。
6. 开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器后，输入命令：`ps|grep skipd|grep -v grep`，如果有输出内容表明软件中心数据库服务运行正常，如果输出内容为空表明软件中心数据库服务运行异常，可以尝试通过运行命令`service restart_skipd`来重启skipd服务。如果运行重启skipd的命令后，再次运行`ps|grep skipd|grep -v grep`仍然没有输出，说明储存在jffs分区的skipd数据库可能遭到了损坏，此时可以请参考下文：重要命令里的软件中心重置。
7. 还有一种较为常见的情况，在刷机过程中，jffs分区中存放的软件中心相关文件在刷机过程/路由器断电/重启过程中被破坏了，如果被破坏的文件正好是httpdb、软件中心数据库等关键文件，也会导致软件中心一直显示更新中的情况。虽然部分情况下，替换损坏的文件可以修复此问题，但是由于无法知晓是否有其它的文件损坏，所以这种情况下建议对路由器进行双清操作，双清完成后，路由器jffs分区内的软件中心相关文件会得到重建，然后在此基础上手动安装插件并手动配置，切记不要使用以前的jffs分区备份来进行恢复！
8. 最后，最严重的情况，路由器的jffs分区遇到了很多无法屏蔽的坏块，查看路由器有多少坏块，先重启路由器，然后用putty、xshell等SSH软件连接路由器后，参考下文：重要命令里的==RAX80查询坏块命令==。一般来说，两三个坏块是正常品控水平，如果坏块太多，建议走售后渠道。

**Q5：刷机后软件中心一片空白**

**A5：** 按照下面的顺序依次尝试：

1. 在【系统管理】-【系统设置】里开启SSH功能，然后通过putty、Xshell等SSH软件连接到路由器后台后，输入命令：`mount | grep -w /jffs`，如果看到类似`/dev/mtdblock9 on /jffs type jffs2 (rw,noatime)`这样的输出，说明/jffs成功挂载了，挂载设备为`/dev/mtdblock9`，最后的数字9会根据机型/平台的不同而不同。如果没有任何输出，则说明/jffs分区没有成功挂载，请尝试重启路由、重置路由等操作后再次查看jffs分区是否成功挂载，如果仍然不行，尝试运行以下命令手动挂载TUF-AX3000的jffs分区：`mount -t jffs2 -o rw,noatime /dev/mtdblock9 /jffs`，运行完毕后再次`mount | grep /jffs`，检查是否成功挂载。如果手动挂载还是不行，那么可能是FALSH有问题或者是系统有问题，这种建议售后渠道换机了。
2. 如果jffs分区挂载没有问题，软件中心页面还是空白，可以尝试使用下文：重要命令里的==软件中心重置命令==，来重置一次软件中心，然后应该就能看到软件中心页面了。

**Q6：为什么我的固件界面上有个八万的麻将？**

**A6：** 带八萬是因为固件的主要移植工作是koolshare开发组成员<font color="#f57332">**八万**</font>做的，不是八万移植的不带麻将标。R6300v2、R6400、R8000、R8500的梅林380移植固件同样带有麻将logo。

**Q7：最新原版梅林固件发布了，为什么此贴还不更新RAX80的梅林改版固件啊？**

**A7：** 新梅林改版固件的发布涉及大到大量的源代码合并工作，期间还涉及到一些编译、测试、回炉等工作，不过一般来说梅林原版固件更新后1天-1周内，就会完成编译和测试工作。

**Q8：我现在已经是384.xx的版本，用着挺稳定，看见本帖更新了最新固件，我还需要跟随最新版本升级吗？升级后稳定吗？升级后需要恢复出厂设置吗？**

**A8：** 非常建议升级！事实上，RAX80的384梅林固件会破坏网件原厂分区，导致一些重要的信息丢失，比如：MAC地址、无线WIFI名称、WIFI密码、SN序列号等信息。而且384梅林固件已经不再适用于网件RAX80的新分区固件（网件新分区固件刷了以后会出现丢失配置等问题）。在此贴的RAX80 386固件更新以后，RAX80的384 梅林固件将停止提供下载服务。

### <font color="#f57332">八、重要命令</font>

以下操作需要使用支持SSH协议的软件，连接到路由器后台进行操作，如果不会使用，可以参考下面步骤：

1. **启用SSH：** 在路由器后台的【系统管理】-【系统设置】里，将【启用 SSH】更改为`LAN only`，将端口号设置为`22`或者其它数字，点击页面下方【应用本页面设置】保存更改；
2. **登录SSH：** 下载SSH软件，如putty（[官方绿色版putty 0.74下载地址](https://the.earth.li/~sgtatham/putty/0.74/w64/putty.exe)），运行后在Host Name（or IP address）处输入路由器的局域网IP地址，如：`192.168.50.1`或者`router.asus.com`，端口为上一步中【SSH 端口】中的端口，如果没有更改，则为`22`，点击【Open】，如果有弹出Putty Security Alert，点击【是】；在界面的`login as`后面输入`路由器的登录帐号`后回车，然后在 password: 提示符后输入`路由器登录密码`后回车（记住：输入密码的时候不会有任何显示，输入完成后直接回车即可），完成登录。
3. **键入命令：** 键入命令时建议将系统输入法切换为英文，也可以复制命令后使用右键即可粘贴命令，粘贴完毕后按回车即可执行命令。

#### <font color="###00BFFF">1. 软件中心重置</font>

- 开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器，直接在ssh客户端内运行下面的程序即可。

```bash
koolshare-reset
```

#### <font color="###00BFFF">2. 清空JFFS空间</font>

- 注意，此操作会删除jffs分区内的所有文件，包括但不限于：软件中心、安装的证书、TrafficAnalyzer的数据库、自定义的设备图标等
```bash
kill -9 $(pidof skipd)
cd /jffs && rm -r .[a-zA-Z_]* *
reboot
```

#### <font color="###00BFFF">3. 删除软件中心</font>

- 适用于**官改固件**刷回**原厂固件**，需要删除留在jffs分区内软件中心，而不删除其它文件；
- 如果是在**官改固件**下删除软件中心，路由器重启后软件中心会重新初始化为最初状态。
```bash
kill -9 $(pidof skipd)
cd /jffs && rm -rf .asusrouter .koolshare db ksdb config/* etc/profile
reboot
```

#### <font color="###00BFFF">4. 重启软件中心</font>

- 当软件中心相关进程挂掉的时候，此时可以用ssh进入路由器后台，输入以下命令重启软件中心：
```bash
sh /koolshare/perp/perp.sh
```

#### <font color="###00BFFF">5. RAX80查询坏块命令</font>

- 先重启一次路由器，再输入以下命令进行查询，返回信息的行数即为坏块的数量
```bash
dmesg |grep "bad block"
```

### <font color="#f57332">九、固件下载</font>

> 以下固件下载的服务器由海波云[Hypo.cn](https://www.hypo.cn/?from=ksbbs) 友情赞助！

- <font color="#DC143C">注意1：</font>建议下载好固件文件以后，对固件的md5校验码进行核对，以保证固件的完整性；
- <font color="#DC143C">注意2：</font>建议刷机全程使用电脑端谷歌chrome浏览器或者Chromium内核的浏览器进行操作；
- <font color="#DC143C">注意3：</font>`.chk`后缀固件用于网件刷梅林，`.w`后缀固件用于梅林刷梅林。

#### <font color="#DC143C"> **386.3_2**</font>
|  固件类型   |                           下载地址                           |               md5校验                |
| :--------- | :---------------------------------------------------------- | :------------------------------ |
| 梅林→梅林 | [RAX80_386.3_2_ubi_11e88aa_koolshare.w](https://fw.koolcenter.com/Koolshare_RMerl_New_Gen_386/Netgear/RAX80/RAX80_386.3_2_ubi_11e88aa_koolshare.w) | 31B97CE9EE220EE8568078D91A96D81C |
| 网件→梅林 | [RAX80_386.3_2_ubi_11e88aa_koolshare.chk](https://fw.koolcenter.com/Koolshare_RMerl_New_Gen_386/Netgear/RAX80/RAX80_386.3_2_ubi_11e88aa_koolshare.chk) | 6B35220593E150186B90B3F1B991B781 |

#### <font color="#DC143C"> **386.3_0**</font>
|  固件类型   |                           下载地址                           |               md5校验                |
| :--------- | :---------------------------------------------------------- | :------------------------------ |
| 梅林→梅林 | [RAX80_386.3_0_ubi_koolshare.w](https://fw.koolcenter.com/Koolshare_RMerl_New_Gen_386/Netgear/RAX80/RAX80_386.3_0_ubi_koolshare.w) | 5F27BDABB686C92F422F39AD64DF3F36 |
| 网件→梅林 | [RAX80_386.3_0_ubi_koolshare.chk](https://fw.koolcenter.com/Koolshare_RMerl_New_Gen_386/Netgear/RAX80/RAX80_386.3_0_ubi_koolshare.chk) | 8841000D194C892B7D392919329BEBC7 |

